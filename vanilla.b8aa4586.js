(function () {function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach(function(r){B(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function B(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var C=function(e){var r={},t={},n={dispatch:function(e,o){if("@dispatch"!==e&&n.dispatch("@dispatch",[e,o,r[e]]),r[e]){var c,a={};r[e].forEach(function(e){var r=e(t,o);r&&"function"!=typeof r.then&&(c=t=g(g({},t),r),a=g(g({},a),r))}),c&&n.dispatch("@changed",a)}},get:function(){return t},on:function(e,t){return(r[e]||(r[e]=[])).push(t),function(){r[e]=r[e].filter(function(e){return e!==t})}}};return e.forEach(function(e){e&&e(n)}),n.dispatch("@init"),n};var k={};function D(r,e){var t;if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(t=p(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var a=0,n=function(){};return{s:n,n:function(){return a>=r.length?{done:!0}:{done:!1,value:r[a++]}},e:function(r){throw r},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var $,o=!0,i=!1;return{s:function(){t=r[Symbol.iterator]()},n:function(){var r=t.next();return o=r.done,r},e:function(r){i=!0,$=r},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw $}}}}function E(r){return H(r)||G(r)||p(r)||F()}function F(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function H(r){if(Array.isArray(r))return q(r)}function m(r,e){return K(r)||J(r,e)||p(r,e)||I()}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(r,e){if(r){if("string"==typeof r)return q(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?q(r,e):void 0}}function q(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=r[t];return a}function J(r,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var t=[],a=!0,n=!1,$=void 0;try{for(var o,i=r[Symbol.iterator]();!(a=(o=i.next()).done)&&(t.push(o.value),!e||t.length!==e);a=!0);}catch(d){n=!0,$=d}finally{try{a||null==i.return||i.return()}finally{if(n)throw $}}return t}}function K(r){if(Array.isArray(r))return r}var f=location,h=Symbol(),j=Symbol(),s=Symbol(),b=Symbol("route");function L(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(e){e.on("@init",function(){e.dispatch(h,w(f.pathname,r))}),e.on(j,function(){}),e.on(s,function(t,a){t[b].path!==a&&history.pushState(null,null,a),e.dispatch(h,w(a,r)),e.dispatch(j,e.get()[b])}),e.on(h,function(e,t){var a=m(t,3),n=a[0],$=a[1],o=a[2],i=void 0===o?[]:o,d=r[$],u={};return u[b]={match:!1,path:n,params:i},d&&(u[b].match=d[1].apply(d,E(i))),u}),document.documentElement.addEventListener("click",function(r){var t=r.target.closest("a");r.defaultPrevented||null==t||0!==t.href.indexOf(f.origin)||"_blank"===t.target||null!=t.dataset.ignoreRouter||0!==r.button||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey||(r.preventDefault(),e.dispatch(s,t.href.slice(f.origin.length)))}),window.addEventListener("popstate",function(){e.get()[b].path!==f.pathname&&(e.dispatch(h,w(f.pathname,r)),e.dispatch(j,e.get()[b]))})}}function w(r,e){var t,a=r.replace(/(^\/|\/$)/g,""),n=D(e.entries());try{for(n.s();!(t=n.n()).done;){var $=m(t.value,2),o=$[0],i=m($[1],1)[0];if("string"==typeof i){var d=i.replace(/(^\/|\/$)/g,"");if(d===a)return[r,o];if(d.includes("*")){var u=d.replace(/[\s!#$()+,.:<=?[\\\]^{|}]/g,"\\$&").replace(/\*/g,"([^/]*)"),l=RegExp("^"+u+"$","i"),v=a.match(l);if(v)return[r,o,v.slice(1)]}}if(i instanceof RegExp){var c=a.match(i);if(c)return[r,o,c.slice(1)]}}}catch(y){n.e(y)}finally{n.f()}return[r]}k={routerNavigate:s,routerChanged:j,routerKey:b,createRouter:L};var z=C([k.createRouter([["/",function(){return{page:"home"}}],["/blog",function(){return{page:"blog"}}],["/blog/post/*",function(t){return{page:"post",id:t}}],[/^blog\/post\/(\d+)\/(\d+)$/,function(t,r){return{page:"post",year:t,month:r}}]])]);function A(t){document.querySelector(".data").textContent=JSON.stringify(t)}A(z.get()[k.routerKey]),z.on(k.routerChanged,function(t,r){A(r)});})();